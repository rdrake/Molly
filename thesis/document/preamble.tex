% !TEX root = Thesis.tex
\usepackage{morewrites}									% Greedy packages...
\usepackage{fontspec}									% Use nicer system fonts
%\usepackage{mathdesign}
\usepackage{graphicx}									% Pretty pictures
\usepackage{todo}										% List of things to do
\usepackage{amsmath}									% Allow use of amsthm
\usepackage{amsthm}										% Pretty theorem environments
\usepackage{amssymb}									% More math symbols
\usepackage{mathtools}
\usepackage{algorithm}									% Pretty algorithm environment
\usepackage{algorithmic}								% Pretty algorithms
\usepackage[outputdir={figures/graphs/dot/}]{dot2texi} % If minted doesn't work, it's probably this package's fault.
\usepackage{minted}										% Pretty code
\usepackage{tikz}										% Diagrams
\usepackage{booktabs}									% Pretty tables
\usepackage{nag}										% Complain
\usepackage[all]{xypic}									% Easy (compared to tikz) diagrams
\usepackage{unicode-math}								% Unicode symbols in math
\usepackage{subcaption}									% Possible del for subcaption
\usepackage{forest}										% Simple trees
\usepackage{subdepth}
\usepackage{comment}									% How is this not built-in?
\usepackage{pgf}
\usepackage{varioref}
\usepackage[linktocpage=true,colorlinks=true]{hyperref} % Helpful links
\usepackage[capitalize]{cleveref}

% Apparently must go after hyperref to get pretty links
\usepackage[acronym,style=tree,sanitize={name=false,description=false,%
symbol=false}]{glossaries}				% Glossary of terms

% Use and configure bibliography
\usepackage[backend=biber,style=trad-alpha]{biblatex}
\addbibresource{Thesis.bib}

% Define a new environment for Clojure code
\newmintedfile[cljcode]{clj}{linenos,frame=topline,frame=lines,framesep=2mm}
% SQL too!
\newminted{sql}{linenos,frame=topline,frame=lines,framesep=2mm}

% Configure tikz for pretty diagrams
\input tikz
\usetikzlibrary{fit,shapes,arrows}

% For some reason using minted with tikz causes minted to fail to colourize
% the output.  Should find a solution later, not really important right now.
\usemintedstyle{bw}

% Define new theorem environments
\theoremstyle{definition}
\newtheorem{defn}{Definition}
\newtheorem{ex}{Example}
\newtheorem{remark}{Remark}
\newtheorem{claim}{Claim}

% Change the image path prefix
\graphicspath{{figures/images/}}

% Make the text worth looking at
\defaultfontfeatures{Ligatures=TeX}
\setmainfont[
	Kerning=Uppercase
]{Garamond Premier Pro}
\setsansfont{Garamond Premier Pro}
\setmathfont{XITS Math}
\setmathfont[range=\mathbfsfit/{greek,Greek,latin,Latin}]{Garamond Premier Pro}
\setmonofont[Scale=0.9]{Consolas}

%\todo{Figure out why EB Garamond doesn't bold definitions}

% amsldoc, Section 4.14.2
\providecommand{\abs}[1]{\lvert#1\rvert}
\providecommand{\norm}[1]{\lVert#1\rVert}

% Simplify some of our function declarations
\DeclareMathOperator{\similarity}{similarity}
\DeclareMathOperator{\df}{df}
\DeclareMathOperator{\tfidf}{tf-idf}
\DeclareMathOperator{\tf}{tf}
\DeclareMathOperator{\idf}{idf}
\DeclareMathOperator{\score}{score}
\DeclareMathOperator{\freq}{freq}
\DeclareMathOperator{\query}{query}

\newglossary{symbols}{sym}{sbl}{List of Symbols}
\makeglossaries

\includeonly{data-model,have-it-all,along-came-clojure,evaluation}